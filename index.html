<html>
    <head>
        <script>
            const FRAME_RATE = 60
            const VIDEOS = ["Shot02_01.mp4", "Shot02_02.mp4"]
            let hasChanged = false
            let firstTime = true
            let clickCounter = 0
            let currentTime = 0
            let videosPlayed = 0
            

            function playVideo()
            {
                let canvas = document.querySelector("canvas")
                canvas.width = window.innerWidth - 20
                canvas.height = window.innerHeight - 20
                let video = document.createElement("video")
                video.muted = true
                video.autoplay = true
                setTimeout(()=>loadVideo(canvas, video), 1000/FRAME_RATE)
            }

            function onCanvasClick()
            {
                clickCounter = (clickCounter < (VIDEOS.length-1)) ? clickCounter+1 : 0
                hasChanged = true
            }

            function loadVideo(canvas, video)
            {
                if (firstTime || hasChanged)
                {
                    video.src = VIDEOS[clickCounter]
                    video.play()
                    video.currentTime = currentTime
                    hasChanged = false
                    if (firstTime) 
                        firstTime = false
                }
                if (!video.ended)
                {
                    currentTime = video.currentTime
                    canvas.getContext("2d").drawImage(video, 0, 0, canvas.width, canvas.height)
                    setTimeout(()=>loadVideo(canvas, video), 1000/FRAME_RATE)
                }
            }

            function loadAllSequentially(canvas, video)
            {
                if (((videosPlayed == 0) || video.ended) && ((videosPlayed + 1) <= VIDEOS.length))
                {
                    video.src = VIDEOS[videosPlayed]
                    video.play()
                    videosPlayed++
                    setTimeout(()=>loadAllSequentially(canvas, video), 1000/FRAME_RATE)
                }
                else if (!video.ended)
                {
                    canvas.getContext("2d").drawImage(video, 0, 0, canvas.width, canvas.height)
                    setTimeout(()=>loadAllSequentially(canvas, video), 1000/FRAME_RATE)
                }
            }
        </script>
    </head>
    <body style="background-color:black;" onload="playVideo()">
        <canvas onclick="onCanvasClick()"></canvas>
    </body>
</html>